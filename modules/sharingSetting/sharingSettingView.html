<br />
<div class="row col-md-12">
	<div class="panel panel-default">
		<div class="panel-heading">
			<h3 class="panel-title">{{'TAB_USERS'| translate}}</h3>
		</div>
		<div class="panel-body">
			<div class="row col-md-6">
				<h3>{{"LBL_DATA_ELEMENTS_GROUPS"|translate}}</h3>
				<!-----------------ELEMENTS GROUPS---------------------->
				<div class="radio" ng-repeat="element in elements">
					<label><input type="radio" name="lstObject"
						ng-click="getObjects(element)"
						onclick="buttonModal.disabled=false"> {{element.name}}</label>
				</div>
			</div>
			<br /> <br />
			<div class="row col-md-6">
				<textarea class="form form-control" placeholer="Message"
					style="width: 550px; height: 300px;">
					</textarea>
			</div>
			<br /> <br />
		</div>
	</div>
</div>
<!-- -----Button Asign permissions-- -->
<div class="row col-dm-12 text-center">
	<button type="button" class="btn btn-success" disabled="true"
		id="buttonModal" data-toggle="modal" data-target="#assignPermissions">
		{{'TAB_ASIGNPERMISSIONS'| translate}} <span
			class="glyphicon glyphicon glyphicon-plus" aria-hidden="true"></span>
	</button>

</div>
<br>
<!-------------------OBJECTS--------------------->
<div class="row col-md-12">
	<div class="panel panel-default">
		<br>
		<div class="row ">
			<div class="col-md-4">
				<div class="input-group " ng-model="searchText">
					<input type="text" class="form-control"
						placeholder="Search input..." ng-model="searchText"> <span
						class="input-group-btn">
						<button class="btn btn-success" type="button">{{'LABEL_SEARCH'
							| translate}}</button>
					</span>
				</div>
			</div>
			<div class="input-group col-md-4">
				<input type="text" class="form-control"
					placeholder="Search By Name..." ng-model="searchTextDate">
				<span class="input-group-btn">
					<button class="btn btn-success" type="button">{{'LABEL_SEARCH'
						| translate}}</button>
				</span>
			</div>
		</div>
		<div class="panel panel-body" id="Layer1"
			style="width: 1125px; height: 260px; overflow: scroll">
			<br>

			<div class="row">
				<div class="col-md-12 text-center">
					<h3>{{titleList}}</h3>
				</div>
			</div>

			<div class="list-group ">
				<div class="row list-group-item">
					<div class="col-md-6 align-center"></div>
					<div class="col-md-3 align-center">
						<label>{{"LABEL_USERGROUP"|translate}}</label>
					</div>
					<div class="col-md-3 align-center">
						<label>{{"LABEL_USERPERMISIONS"|translate}}</label>
					</div>
				</div>
				<div class="row list-group-item "
					ng-repeat="mObject in mObjects | filter:searchText ">
					<div class="col-md-6">{{mObject.displayName}}</div>
					<div class="col-md-6">
						<div class="row"
							ng-repeat="access in mObject.userGroupAccesses | filter:searchTextDate ">
							<div class="col-md-6">
								<div class="col-md-6">{{access.displayName}}</div>
								<div class="col-md-2">
									<button class="button btn-default" data-toggle="modal"
										data-target="#modal">x</button>
									<br>
								</div>
							</div>
							<div class="col-md-6">{{(access.access=="r-------"?"LABEL_READ":"LABEL_READWRITE")|translate}}</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<uib-pagination boundary-links="true" max-size="2"
			num-pages="itemsPerPage" total-items="total" ng-model="currentPage"
			ng-change="pageChanged()" num-pages="pageCount" boundary-links="true"></uib-pagination>
	</div>
</div>
<br />
<!-- 		___________________________MODAL____________________________-->

<div class="modal fade" id="modal" tabindex="-1" role="dialog"
	aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">X</button>
				<h4>{{'LABEL_DELETEUSERGROUPS' | translate}}</h4>
				<div class="modal-body text-center ">

					{{'LABEL_WISHDELETEUSERGROUPS' | translate}} <br> <br>
					<button class="btn btn-primary" ng-click="removeGroupAccess()">{{'LABEL_YES'
						| translate}}</button>
					<button class="btn btn-primary" class="btn btn-primary"
						data-dismiss="modal">{{'LABEL_NO' | translate}}</button>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- -----------------------------MODAL PERMISSIONS----------------------- -->

<div class="modal fade" id="assignPermissions" tabindex="-1"
	role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">

				<!---------------SELECT ELEMENTS--------------->
				<div class="row ">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">{{'TAB_ASIGNELEMENTS'| translate}}</h3>
						</div>
						<div class="panel-body">
							<div class="row col-md-12">

								<div class="col-md-12">

									<nav class="navbar navbar-default">
										<div class="container-fluid">
											<div class="navbar-header">
												<button type="button" class="navbar-toggle collapsed"
													data-toggle="collapse"
													data-target="#bs-example-navbar-collapse-2"
													aria-expanded="false">
													<span class="sr-only">Toggle navigation</span> <span
														class="icon-bar"></span> <span class="icon-bar"></span> <span
														class="icon-bar"></span>
												</button>

											</div>


											<accordion close-others="oneAtATime"> <accordion-group
												is-open="status.open"> <accordion-heading>
											<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
											{{'LABEL_FINDOPTIONS'| translate}} </accordion-heading> <br>
											<div class="row">
												<div class="col-md-10">
													<label class="label-control">{{'LABEL_SEARCHBY'|
														translate}}:</label>
													<div class="btn-group" role="group" aria-label="...">
														<button id="code" type="button"
															class="btn btn-{{opSearch==1?'primary':'default'}}"
															ng-click="opSearch=1">{{'LABEL_SEARCHCODE'|translate}}
														</button>
														<button type="button"
															class="btn btn-{{opSearch==2?'primary':'default'}}"
															ng-click="opSearch=2">{{'LABEL_SEARCHNAME'|translate}}</button>
														<button type="button"
															class="btn btn-{{opSearch==3?'primary':'default'}}"
															ng-click="opSearch=3">{{'LABEL_SEARCHGROUP'|translate}}</button>
														<button type="button"
															class="btn btn-{{opSearch==4?'primary':'default'}}"
															ng-click="opSearch=4"
															ng-show="type == 'dataElement' || type == 'dataSet'">{{'LABEL_SEARCHDATASET'|translate}}</button>
														<button type="button"
															class="btn btn-{{opSearch==5?'primary':'default'}}"
															ng-show="type == 'categories' || type == 'categoryOptions'"
															ng-click="opSearch=5">{{'LABEL_SEARCHCATEGORIES'|translate}}</button>
													</div>
													<div class="row" ng-show="opSearch==1">
														<form class="navbar-form navbar-left" role="search">
															<div class="form-group">
																<label class="label-control">{{'LABEL_SEARCHCODE'|translate}}</label>
																<br> <input type="text" class="form-control"
																	ng-model="searchCode"
																	placeholder="Escribe el codigo a buscar"
																	ng-change="getCode(searchCode)">

																<button type="submit" class="btn btn-success sm"
																	ng-click="searchElements=''">
																	<span class="glyphicon glyphicon-remove"
																		aria-hidden="true"></span>
																</button>
															</div>
														</form>
													</div>
													<div class="row" ng-show="opSearch==2">
														<form class="navbar-form navbar-left" role="search">
															<div class="form-group">
																<label class="label-control">{{'LABEL_SEARCHNAME'|translate}}</label>
																<br> <input type="text" class="form-control"
																	ng-model="searchName"
																	placeholder="Escribe el nombre a buscar">

																<button type="submit" class="btn btn-success sm"
																	ng-click="searchName=''">
																	<span class="glyphicon glyphicon-remove"
																		aria-hidden="true"></span>
																</button>
															</div>
														</form>
													</div>

													<div class="row" ng-show="opSearch==3">
														<form class="navbar-form navbar-left" role="search">
															<div class="form-group">
																<label class="label-control">{{'LABEL_SEARCHGROUP'|translate}}</label>
																<br> <input type="text" ng-model="groupSelected"
																	typeahead-loading="loadingLocations"
																	typeahead-no-results="noResults"
																	placeholder="{{'LABEL_SEARCHGROUP'|translate}}"
																	uib-typeahead="resultElementGroup as resultElementGroup.displayName for resultElementGroup in getDataElementsGroups($viewValue)"
																	class="form-control"
																	typeahead-on-select="onSelectGroups($item, $model, $label)">
																<i ng-show="loadingLocations"
																	class="glyphicon glyphicon-refresh"></i>
																<div ng-show="noResults">
																	<i class="glyphicon glyphicon-remove"></i>
																	{{'LABEL_NORESULTSFOUND'| translate}}
																</div>

																<button type="submit" class="btn btn-success sm"
																	ng-click="groupSelected=''; returnMobject()">
																	<span class="glyphicon glyphicon-remove"
																		aria-hidden="true"></span>
																</button>
															</div>
														</form>
													</div>

													<div class="row" ng-show="opSearch==4">
														<form class="navbar-form navbar-left" role="search">
															<div class="form-group">
																<label class="label-control">{{'LABEL_SEARCHDATASET'|translate}}</label>
																<br> <input type="text" ng-model="dataSetselected"
																	typeahead-loading="loadingLocations"
																	typeahead-no-results="noResults"
																	placeholder="{{'LABEL_SEARCHDATASET'|translate}}"
																	uib-typeahead="resultdataSets as resultdataSets.displayName for resultdataSets in getdataSets($viewValue)"
																	typeahead-min-length="2" class="form-control"
																	typeahead-on-select="onSelect($item, $model, $label)">
																<i ng-show="loadingLocations"
																	class="glyphicon glyphicon-refresh"></i>
																<div ng-show="noResults">
																	<i class="glyphicon glyphicon-remove"></i>
																	{{'LABEL_NORESULTSFOUND'| translate}}
																</div>
																<button type="submit" class="btn btn-success sm"
																	ng-click="dataSetselected='' ; returnMobject()">
																	<span class="glyphicon glyphicon-remove"
																		aria-hidden="true"></span>
																</button>
															</div>
														</form>
													</div>
													<div class="row" ng-show="opSearch==5; ">
														<form class="navbar-form navbar-left" role="search">
															<div class="form-group">
																<label class="label-control">{{'LABEL_SEARCHCATEGORIES'|translate}}</label>
																<br> <input type="text"
																	ng-model="selectedCategories"
																	typeahead-loading="loadingLocations"
																	typeahead-no-results="noResults"
																	placeholder="{{'LABEL_SEARCHDATASET'|translate}}"
																	uib-typeahead="resultCategories as resultCategories.displayName for resultCategories in getCategories($viewValue)"
																	class="form-control"
																	typeahead-on-select="onSelectCategories($item, $model, $label)">
																<i ng-show="loadingLocations"
																	class="glyphicon glyphicon-refresh"></i>
																<div ng-show="noResults">
																	<i class="glyphicon glyphicon-remove"></i>
																	{{'LABEL_NORESULTSFOUND'| translate}}
																</div>
																<button type="submit" class="btn btn-success sm"
																	ng-click="selectedCategories=''; returnMobject()">
																	<span class="glyphicon glyphicon-remove"
																		aria-hidden="true"></span>
																</button>
															</div>
														</form>
													</div>
												</div>
											</accordion-group> </accordion>
										</div>
									</nav>
								</div>
								<!-- 					___________________ASSIGN ELEMENTS___________ -->
								<br> <br>

								<div class="col-md-5">
									<select class="sectionLeft" id="myselection"
										style="width: 400px; height: 150px; margin-right: 0px;"
										multiple="true" ng-model="selectElements"
										ng-dblclick="getOptionSelected(selectElements,mObjects)"
										ng-options="mObject.displayName for mObject in mObjects | filter: searchName"></select>
								</div>
								<div class="col-md-1"></div>
								<div class="col-md-1">
									<br> <input type="button" class=" pass left"
										style="width: 40px" value="<<" type="submit"
										ng-click="removeOptionSelected(selectedElements,mObjects)">
									<br> <input type="button" class="pass left"
										style="width: 40px" value="<" type="submit"
										ng-click="removeOptionSelected(objectSele)"> <br>
									<input type="button" class="pass Rigth" style="width: 40px"
										value=">>" type="submit"
										ng-click="getOptionSelected(objectSelected)"> <br>
									<input type="button" class="pass Rigth" style="width: 40px"
										value=">" type="submit"
										ng-click="getOptionSelected(selectElements,mObjects);searchElements='' ">
								</div>
								<div class="col-md-5">
									<select class="sectionRigth"
										style="width: 348px; height: 150px;" multiple="true"
										ng-model="selectedElements"
										ng-dblclick="removeOptionSelected(selectedElements,mObjects)"
										ng-options="objectSelec.displayName for objectSelec in objectSele">
									</select>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- ____________________ASIGN PERMISSIONS_______________________________________--->
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">{{'TAB_ASIGNPERMISSIONS'| translate}}</h3>
					</div>
					<div class="panel-body">
						<div class="col-md-12">
							<div class="col-md-7">
								<div class="row">
									<div class="list-group">
										<div class="row list-group-item"
											ng-repeat="(kug,uGroup) in uGroups" ng-model="uGroupSelect">
											<div class="col-md-5">
												<label aria-label="...">{{uGroup.displayName}}</label>
											</div>
											<div class="col-md-6">
												<div class="btn-group" role="group" aria-label="...">
													<button
														ng-click="ugStatus[kug]=0; changeButtons(changeButton=0,uGroup)"
														type="button"
														class="btn btn-{{ugStatus[kug]==0?'danger':'default'}} btn-lg"></button>
													<button
														ng-click="ugStatus[kug]=1; changeButtons(changeButton=1,uGroup)"
														type="button"
														class="btn btn-{{ugStatus[kug]==1?'warning':'default'}} btn-lg"></button>
													<button
														ng-click="ugStatus[kug]=2; changeButtons(changeButton=2,uGroup)"
														type="button"
														class="btn btn-{{ugStatus[kug]==2?'success':'default'}} btn-lg"></button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row ">
								<div class="col-md-5">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">{{'TAB_WHATDOYOUWANTTODO'|
												translate}}</h3>
										</div>
										<div class="panel-body">

											<div class=" btn-group" role="EditUpdate">
												<button
													ng-click="ugStatusAccess[kug]=0;changeButtons(changeButton=7)"
													onclick="buttonAsign.disabled=false; permissions='keep'"
													type="button"
													class="btn btn-{{ugStatusAccess[kug]==0?'primary':'default'}} btn-sm">
													{{'LABEL_KEEPPERMISSIONS'| translate}} <span
														class="glyphicon glyphicon-retweet" aria-hidden="true"></span>
												</button>
												<button
													ng-click="ugStatusAccess[kug]=1;changeButtons(changeButton=8)"
													onclick="buttonAsign.disabled=false;permissions='update'"
													type="button"
													class="btn btn-{{ugStatusAccess[kug]==1?'success':'default'}} btn-sm">
													{{'LABEL_UPDATEPERMISSIONS'| translate}} <span
														class="glyphicon glyphicon-edit" aria-hidden="true"></span>
												</button>
											</div>
											<br>
											<br>

												<label> {{'LABEL_PUBLICACCESS'| translate}}</label>
											<br>
											

											<div class="btn-group" role="groupAccess">
												<button
													ng-click="ugStatusAccess[kug]=3;changeButtons(changeButton=3,uGroup)"
													type="button"
													class="btn btn-{{ugStatusAccess[kug]==3?'danger':'default'}} btn-lg"></button>
												<button
													ng-click="ugStatusAccess[kug]=4;changeButtons(changeButton=4,uGroup)"
													type="button"
													class="btn btn-{{ugStatusAccess[kug]==4?'success':'default'}} btn-lg"></button>
											</div>
										</div>
									</div>
									<br>
								</div>
							</div>


							<div class="col-md-8">

								<label>{{'LABEL_CONVENTION'| translate}}</label><br> <label
									class="label label-danger">{{'LABEL_NONE'|translate}}</label> <label
									class=" label label-warning">{{'LABEL_READ'|translate}}</label>
								<label class=" label label-success">{{'LABEL_READWRITE'|translate}}</label>
							</div>
							<div class="col-md-12 text-center">
								<div class="input-group">
									<span class="input-group-btn">
										<button id="buttonAsign" type="button" class="btn btn-primary"
											style="color: @gray-darker" data-dismiss="modal"
											ng-click="assignPermissions(objectSele);clean()"
											disabled="true">{{'LABEL_ASIGN' | translate}}</button>
										<button type="button" class="btn btn-default"
											data-dismiss="modal" ng-click="clean()">{{'LABEL_CLOSE'
											| translate}}</button>
									</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>